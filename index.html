<!DOCTYPE html>
<html lang="en-US">

<!-- Myles Barrett's Frog Game
	 Created June 23, 2023 -->

<head>
	<title>Cross the River</title>
	
	<style>
	</style>
</head>

<body>
	<img id="defaultImg" width="1000" src="startscreen.png" alt="1"/>
	<p id="p1">To start the game type "play"!</p>
	<input type="text" id="myText" value="Type something...">
	<button id="button" onclick="sendText()">Enter</button>

	<script>
		//Dictionary used to connect prompts to scene changes
		var scene_dictionary=
		{ 
			"play":"scene_start",
			"look around":"scene_look",
			"pick up rock":"scene_rock_moved", 
			"move rock":"scene_rock_moved", 
			"swim":"scene_drowned"
		};
		
		//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
		//The following are dictionaries that list the state and their available moves
		var state_startscreen=
		{ 
			"play":"scene1.png",
			"new_text": "To start the game type play"
		};
		
		var state_by_river=
		{ 
			"look around":"scene_look",
			"pick up rock":"scene_rock_moved", 
			"move rock":"scene_rock_moved", 
			"swim":"scene_drowned"
		};
		
		var state_by_river_no_rock=
		{ 
			"look around":"scene_look",
			"swim":"scene_drowned"
		};
		
		var state_drowning=
		{ 
			"restart":"scene_start"
		};
		
		var state_drowning_no_rock=
		{ 
			"restart":"scene_start"
		};
		//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
		
		//Object that keeps track of the state of several objects in the game
		const state = 
		{
			curr_state:"state_startscreen",
			rock_moved:"false"
		};
		
		//This block of code lets the player use the enter key instead of needing to press the button
		var input = document.getElementById("myText");
		input.addEventListener("keypress", function(event)
		{
			if(event.key === "Enter")
			{
				event.preventDefault();
				document.getElementById("button").click();
			}
		});
		
		//Method called when button is pressed.
		function sendText()
		{
			var text = document.getElementById("myText").value;
			current_state = state.curr_state;
			
			if(text in current_state)
			{
				document.getElementById('defaultImg').src=current_state[text];
			}
			
			else
				document.getElementById("p1").innerHTML = "I don't know what this means.";
			
			<!-- if(text in scene_dictionary) -->
			<!-- { -->
				<!-- if(scene_dictionary[text] == "scene_start") -->
				<!-- { -->
					<!-- document.getElementById('defaultImg').src="scene1.png"; -->
					<!-- document.getElementById("p1").innerHTML = "You are a frog."; -->
					<!-- //console.log("hey im at 1"); <-- this is how logging can work with inspect element -->
				<!-- } -->
				<!-- else if(scene_dictionary[text] == "scene_look") -->
				<!-- { -->
					<!-- document.getElementById("p1").innerHTML = "There is a river in front of you. Nearby there is a rock."; -->
				<!-- } -->
				
				<!-- else if(scene_dictionary[text] == "scene_rock_moved") -->
				<!-- { -->
					<!-- document.getElementById('defaultImg').src="scene2.png"; -->
					<!-- document.getElementById("p1").innerHTML = "You moved the rock."; -->
					<!-- state.rock_moved = "true"; -->
				<!-- } -->
			
				<!-- else if(scene_dictionary[text] == "scene_drowned") -->
				<!-- { -->
					<!-- if(state.rock_moved == "true") -->
						<!-- document.getElementById('defaultImg').src="scene4.png"; -->
						
					<!-- else -->
						<!-- document.getElementById('defaultImg').src="scene3.png"; -->
						
					<!-- document.getElementById("p1").innerHTML = "You drowned :("; -->
				<!-- } -->
			
				<!-- else -->
					<!-- document.getElementById("p1").innerHTML = "I don't know what this means."; -->
			<!-- } -->
			
			<!-- else -->
				<!-- document.getElementById("p1").innerHTML = "I don't know what this means."; -->
		};
		
		function changeText(new_state)
		{
			document.getElementById("p1").innerHTML = "You moved the rock.";
		}
	</script>
	
</body>
</html>
